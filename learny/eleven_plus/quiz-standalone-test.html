<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11+ Vocabulary Quiz - Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // Game parameters data (truncated for demo - you can paste the full JSON here)
        const gameParamsData = {
            "abandon": {
                "synonyms": {
                    "choices": ["desert", "keep", "retain", "fund"],
                    "correct": "desert"
                },
                "antonyms": {
                    "choices": ["keep", "desert", "forsake", "bemused"],
                    "correct": "keep"
                },
                "odd_one_out": {
                    "choices": ["abandon", "desert", "forsake", "keep"],
                    "correct": "keep"
                },
                "analogies": {
                    "first": "hot",
                    "second": "cold",
                    "relation": "antonym",
                    "choices": ["keep", "ordeal", "business", "adhere"],
                    "correct": "keep"
                }
            },
            "abundant": {
                "synonyms": {
                    "choices": ["plentiful", "scarce", "sparse", "equipment"],
                    "correct": "plentiful"
                },
                "antonyms": {
                    "choices": ["scarce", "plentiful", "copious", "habitable"],
                    "correct": "scarce"
                },
                "odd_one_out": {
                    "choices": ["abundant", "plentiful", "copious", "scarce"],
                    "correct": "scarce"
                },
                "analogies": {
                    "first": "happy",
                    "second": "glad",
                    "relation": "synonym",
                    "choices": ["plentiful", "bewildered", "pompous", "receive"],
                    "correct": "plentiful"
                }
            }
        };

        const ElevenPlusQuizApp = () => {
            // Game configuration loaded from JSON
            const [gameParams, setGameParams] = React.useState(gameParamsData);
            const [words, setWords] = React.useState(Object.keys(gameParamsData));

            // App state
            const [gameMode, setGameMode] = React.useState('menu');
            const [currentQuestion, setCurrentQuestion] = React.useState(null);
            const [score, setScore] = React.useState({ correct: 0, total: 0 });
            const [feedback, setFeedback] = React.useState(null);
            const [usedWords, setUsedWords] = React.useState(new Set());

            const shuffleArray = (array) => {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            };

            const generateSynonymQuestion = () => {
                const availableWords = words.filter(word => !usedWords.has(word));
                if (availableWords.length === 0) {
                    setUsedWords(new Set());
                    return generateSynonymQuestion();
                }

                const word = availableWords[Math.floor(Math.random() * availableWords.length)];
                const wordConfig = gameParams[word];
                
                if (!wordConfig) {
                    return generateSynonymQuestion();
                }
                
                const isAntonym = Math.random() < 0.5;
                const questionType = isAntonym ? 'antonyms' : 'synonyms';
                const questionConfig = wordConfig[questionType];
                
                if (!questionConfig) {
                    return generateSynonymQuestion();
                }

                const options = [...questionConfig.choices];
                const correctAnswer = questionConfig.correct;

                return {
                    type: 'synonym',
                    word,
                    question: `What is a ${isAntonym ? 'antonym' : 'synonym'} for "${word}"?`,
                    options: shuffleArray(options),
                    correctAnswer,
                    explanation: `"${correctAnswer}" is a ${isAntonym ? 'antonym' : 'synonym'} of "${word}".`
                };
            };

            const startGame = (mode) => {
                setGameMode(mode);
                setScore({ correct: 0, total: 0 });
                setUsedWords(new Set());
                setFeedback(null);
                
                const firstQuestion = generateSynonymQuestion();
                setCurrentQuestion(firstQuestion);
            };

            const handleAnswer = (selectedAnswer) => {
                const isCorrect = selectedAnswer === currentQuestion.correctAnswer;
                const newScore = {
                    correct: score.correct + (isCorrect ? 1 : 0),
                    total: score.total + 1
                };
                
                setScore(newScore);
                setUsedWords(prev => new Set([...prev, currentQuestion.word]));
                
                setFeedback({
                    isCorrect,
                    explanation: currentQuestion.explanation,
                    selectedAnswer,
                    correctAnswer: currentQuestion.correctAnswer
                });
            };

            const nextQuestion = () => {
                setFeedback(null);
                const newQuestion = generateSynonymQuestion();
                setCurrentQuestion(newQuestion);
            };

            const backToMenu = () => {
                setGameMode('menu');
                setCurrentQuestion(null);
                setFeedback(null);
                setScore({ correct: 0, total: 0 });
                setUsedWords(new Set());
            };

            if (gameMode === 'menu') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                        <div className="max-w-4xl mx-auto">
                            <div className="text-center mb-12">
                                <h1 className="text-5xl font-bold text-indigo-900 mb-4">11+ Vocabulary Quiz</h1>
                                <p className="text-xl text-indigo-700">Testing with {words.length} words</p>
                            </div>
                            
                            <div className="grid md:grid-cols-3 gap-8">
                                <div 
                                    onClick={() => startGame('synonyms')}
                                    className="bg-white rounded-xl shadow-lg p-8 cursor-pointer transform hover:scale-105 transition-all duration-200 hover:shadow-xl border-2 border-transparent hover:border-indigo-300"
                                >
                                    <div className="text-center">
                                        <div className="text-4xl mb-4">ðŸ“š</div>
                                        <h3 className="text-2xl font-bold text-indigo-900 mb-3">Synonyms & Antonyms</h3>
                                        <p className="text-indigo-600 mb-4">Find words with similar or opposite meanings</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            if (!currentQuestion) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center">
                        <div className="text-center">
                            <div className="text-4xl mb-4">ðŸ”„</div>
                            <p className="text-xl text-indigo-700">Loading question...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-8">
                            <div className="flex justify-between items-center">
                                <h1 className="text-2xl font-bold text-gray-900">Synonyms & Antonyms</h1>
                                <button
                                    onClick={backToMenu}
                                    className="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors"
                                >
                                    Back to Menu
                                </button>
                            </div>
                        </div>

                        <div className="bg-white rounded-xl shadow-lg p-6 mb-8">
                            <div className="flex justify-between items-center">
                                <div className="flex space-x-8">
                                    <div className="text-center">
                                        <div className="text-2xl font-bold text-green-600">{score.correct}</div>
                                        <div className="text-sm text-gray-600">Correct</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-2xl font-bold text-blue-600">{score.total}</div>
                                        <div className="text-sm text-gray-600">Total</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="bg-white rounded-xl shadow-lg p-8 mb-8">
                            <div className="text-center mb-8">
                                <h2 className="text-2xl font-bold text-gray-800 mb-4">
                                    {currentQuestion.question}
                                </h2>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                                {currentQuestion.options.map((option, index) => (
                                    <button
                                        key={index}
                                        onClick={() => handleAnswer(option)}
                                        disabled={feedback !== null}
                                        className={`p-4 rounded-lg border-2 transition-all duration-200 text-left ${
                                            feedback === null
                                                ? 'border-gray-300 hover:border-blue-400 hover:bg-blue-50'
                                                : feedback.selectedAnswer === option
                                                ? feedback.isCorrect
                                                    ? 'border-green-500 bg-green-50'
                                                    : 'border-red-500 bg-red-50'
                                                : option === currentQuestion.correctAnswer
                                                ? 'border-green-500 bg-green-50'
                                                : 'border-gray-300 bg-gray-50'
                                        }`}
                                    >
                                        <span className="text-lg">{option}</span>
                                    </button>
                                ))}
                            </div>

                            {feedback && (
                                <div className={`rounded-lg p-6 mb-6 ${
                                    feedback.isCorrect ? 'bg-green-50 border-l-4 border-green-400' : 'bg-red-50 border-l-4 border-red-400'
                                }`}>
                                    <h3 className={`text-xl font-bold mb-3 ${
                                        feedback.isCorrect ? 'text-green-800' : 'text-red-800'
                                    }`}>
                                        {feedback.isCorrect ? 'Correct!' : 'Not quite right'}
                                    </h3>
                                    <p className={`text-lg ${
                                        feedback.isCorrect ? 'text-green-700' : 'text-red-700'
                                    }`}>
                                        {feedback.explanation}
                                    </p>
                                </div>
                            )}

                            {feedback && (
                                <div className="text-center">
                                    <button
                                        onClick={nextQuestion}
                                        className="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg text-lg font-semibold transition-colors"
                                    >
                                        Next Question â†’
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ElevenPlusQuizApp />);
    </script>
</body>
</html>